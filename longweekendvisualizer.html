<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Long Weekend Visualizer — SanaHolidayNaUlit</title>
    <meta
      name="description"
      content="Visualize Philippine long weekends and plan your vacations with our minimalist calendar interface."
    />
    <style>
      /*
        Long Weekend Visualizer - Zen Minimalist Design
        Extended from base design system for calendar visualization
      */

      :root {
        --bg: #ffffff;
        --ink: #111111;
        --ink-2: #6e6e6e;
        --accent: #cc7722;
        --accent-light: #e09a55;
        --accent-muted: #aa6600;
        --container: 720px;
        --sidebar-width: 200px;
        --hairline: #e5e5e5;
      }

      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

      body {
        background: var(--bg);
        color: var(--ink);
        font-family: "Roboto", system-ui, -apple-system, Segoe UI, Roboto, Arial,
          sans-serif;
        font-size: 16px;
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
      }

      .container {
        max-width: var(--container);
        margin-inline: auto;
        padding: 24px;
      }

      .muted {
        color: var(--ink-2);
      }

      /* Header */
      .site-header {
        background: var(--bg);
        border-bottom: 1px solid var(--hairline);
      }

      .toolbar {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 12px 0;
      }

      .toolbar-link {
        display: inline-flex;
        align-items: baseline;
        gap: 6px;
        color: var(--accent);
        text-decoration: none;
        font-weight: 400;
        letter-spacing: 0.06em;
        font-size: 13px;
        text-transform: uppercase;
        padding: 6px 10px;
        border-radius: 6px;
      }

      .toolbar-link:hover {
        text-decoration: underline;
        color: var(--accent-muted);
      }

      .toolbar-link:focus-visible {
        outline: 1px dotted var(--accent);
        outline-offset: 2px;
      }

      .chev {
        color: var(--accent-light);
        transform: rotate(180deg);
      }

      /* Layout */
      .main-layout {
        display: flex;
        min-height: calc(100vh - 120px);
        gap: 32px;
        max-width: calc(var(--container) + var(--sidebar-width) + 32px);
        margin: 0 auto;
        padding: 24px;
      }

      /* Sidebar */
      .sidebar {
        width: var(--sidebar-width);
        position: sticky;
        top: 24px;
        height: fit-content;
        background: var(--bg);
      }

      .sidebar-title {
        margin: 0 0 16px;
        font-size: 16px;
        font-weight: 500;
        color: var(--ink);
        letter-spacing: 0.02em;
      }

      .sidebar-nav {
        list-style: none;
        margin: 0;
        padding: 0;
      }

      .sidebar-nav li {
        margin-bottom: 8px;
      }

      .sidebar-nav a {
        display: block;
        padding: 6px 12px;
        color: var(--ink-2);
        text-decoration: none;
        font-size: 14px;
        border-radius: 4px;
        transition: background-color 0.2s ease;
      }

      .sidebar-nav a:hover {
        background: #f8f8f8;
        color: var(--ink);
      }

      .sidebar-nav a.active {
        background: #f0f0f0;
        color: var(--accent);
        font-weight: 500;
      }

      .sidebar-nav a:focus-visible {
        outline: 1px dotted var(--accent);
        outline-offset: 2px;
      }

      /* Content Area */
      .content {
        flex: 1;
        min-width: 0;
      }

      .page-title {
        margin: 0 0 32px;
        font-size: clamp(28px, 4vw, 36px);
        font-weight: 400;
        color: var(--ink);
        letter-spacing: -0.01em;
      }

      /* Holiday Cards */
      .holiday-card {
        margin-bottom: 56px;
        scroll-margin-top: 32px;
      }

      .holiday-header {
        margin-bottom: 16px;
      }

      .holiday-title {
        margin: 0 0 4px;
        font-size: 24px;
        font-weight: 500;
        color: var(--ink);
      }

      .holiday-subtitle {
        margin: 0;
        font-size: 14px;
        color: var(--ink-2);
      }

      .suggestion-badge {
        display: inline-block;
        margin-left: 12px;
        padding: 2px 8px;
        background: var(--accent-light);
        color: var(--ink);
        font-size: 11px;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        border-radius: 12px;
      }

      /* Calendar */
      .calendar-container {
        display: flex;
        flex-wrap: wrap;
        gap: 24px;
        margin-bottom: 16px;
      }

      .mini-calendar {
        min-width: 200px;
        flex: 1;
      }

      .calendar-header {
        text-align: center;
        margin-bottom: 8px;
        font-size: 14px;
        font-weight: 500;
        color: var(--ink);
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 1px;
        background: var(--hairline);
        border: 1px solid var(--hairline);
      }

      .calendar-day {
        background: var(--bg);
        padding: 8px 4px;
        text-align: center;
        font-size: 12px;
        min-height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      .calendar-day.header {
        background: #f8f8f8;
        font-weight: 500;
        color: var(--ink-2);
        text-transform: uppercase;
        letter-spacing: 0.05em;
        font-size: 10px;
      }

      .calendar-day.other-month {
        color: #ccc;
      }

      .calendar-day.weekend {
        background: #f9f9f9;
        color: var(--ink-2);
      }

      .calendar-day.holiday {
        background: var(--accent);
        color: var(--ink);
        font-weight: 500;
      }

      .calendar-day.suggested-leave {
        background: var(--accent-light);
        color: var(--ink);
        font-weight: 500;
        position: relative;
      }

      .calendar-day.suggested-leave::after {
        content: "★";
        position: absolute;
        top: 2px;
        right: 2px;
        font-size: 8px;
        color: var(--accent-muted);
        font-weight: bold;
      }

      .calendar-day.long-weekend-range {
        background: #fff3e6;
        border-left: 3px solid var(--accent);
      }

      /* Call to Action */
      .cta-message {
        padding: 16px 20px;
        background: #fafafa;
        border-left: 4px solid var(--accent);
        margin: 16px 0;
        font-size: 14px;
        color: var(--ink);
      }

      .cta-highlight {
        font-weight: 500;
        color: var(--accent);
      }

      /* Legend */
      .legend {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        margin: 0 0 32px 0;
        padding: 16px;
        background: #fafafa;
        border-radius: 4px;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 12px;
        color: var(--ink-2);
      }

      .legend-color {
        width: 12px;
        height: 12px;
        border-radius: 2px;
        flex-shrink: 0;
      }

      .legend-color.weekend {
        background: #f9f9f9;
        border: 1px solid var(--hairline);
      }

      .legend-color.holiday {
        background: var(--accent);
      }

      .legend-color.suggested {
        background: var(--accent-light);
      }

      .legend-color.range {
        background: #fff3e6;
        border-left: 3px solid var(--accent);
      }

      /* Footer */
      .site-footer {
        border-top: 1px solid var(--hairline);
        padding: 24px 0;
        text-align: center;
      }

      .site-footer small {
        color: var(--ink-2);
        font-size: 14px;
      }

      /* Mobile Responsive */
      @media (max-width: 768px) {
        .main-layout {
          flex-direction: column;
          gap: 24px;
          padding: 16px;
        }

        .sidebar {
          width: 100%;
          position: static;
          border-bottom: 1px solid var(--hairline);
          padding-bottom: 16px;
          margin-bottom: 16px;
        }

        .sidebar-nav {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }

        .sidebar-nav li {
          margin-bottom: 0;
        }

        .sidebar-nav a {
          padding: 4px 8px;
          font-size: 12px;
        }

        .page-title {
          font-size: 24px;
          margin-bottom: 24px;
        }

        .calendar-container {
          gap: 16px;
        }

        .mini-calendar {
          min-width: 180px;
        }

        .legend {
          flex-direction: column;
          gap: 8px;
        }
      }

      /* Motion */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation: none !important;
          transition: none !important;
        }

        .sidebar-nav a {
          transition: none;
        }
      }
    </style>
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <nav class="toolbar" aria-label="Primary">
          <a
            class="toolbar-link"
            href="index.html"
            aria-label="Go back to main countdown"
          >
            <span class="chev" aria-hidden="true">→</span>
            back to countdown
          </a>
        </nav>
      </div>
    </header>

    <div class="main-layout">
      <aside class="sidebar">
        <h2 class="sidebar-title">2024 Long Weekends</h2>
        <ul class="sidebar-nav" id="sidebarNav">
          <!-- Navigation items will be generated by JavaScript -->
        </ul>
      </aside>

      <main class="content">
        <h1 class="page-title">Long Weekend Visualizer</h1>

        <div class="legend">
          <div class="legend-item">
            <div class="legend-color weekend"></div>
            <span>Weekend</span>
          </div>
          <div class="legend-item">
            <div class="legend-color holiday"></div>
            <span>Official Holiday</span>
          </div>
          <div class="legend-item">
            <div class="legend-color suggested"></div>
            <span>Suggested Leave ★</span>
          </div>
          <div class="legend-item">
            <div class="legend-color range"></div>
            <span>Long Weekend Range</span>
          </div>
        </div>

        <div id="holidayCards">
          <!-- Holiday cards will be generated by JavaScript -->
        </div>
      </main>
    </div>

    <footer class="site-footer">
      <div class="container">
        <small class="muted">
          &copy;
          <span id="year"></span>
          SanaHolidayNaUlit.com
        </small>
      </div>
    </footer>

    <script>
      /*
        Long Weekend Visualizer Script
        Follows minimalist principles with vanilla JS
      */

      (function () {
        const $ = (sel) => document.querySelector(sel);
        const $$ = (sel) => document.querySelectorAll(sel);

        // Utility functions
        const pad2 = (n) => String(n).padStart(2, "0");
        const toISOManila = (y, m, d) =>
          `${y}-${pad2(m)}-${pad2(d)}T00:00:00+08:00`;
        const formatPHT = (iso) =>
          new Date(iso).toLocaleString("en-PH", {
            timeZone: "Asia/Manila",
            year: "numeric",
            month: "long",
            day: "numeric",
          });

        const getWeekday = (iso) =>
          new Date(iso).toLocaleString("en-US", {
            timeZone: "Asia/Manila",
            weekday: "short",
          });

        const isWeekend = (date) => {
          const day = date.getDay();
          return day === 0 || day === 6;
        };

        // Holiday data for 2024 (sample data following API schema)
        const holidays2024 = [
          {
            name: "New Year's Day",
            iso: toISOManila(2024, 1, 1),
            type: "regular",
          },
          {
            name: "People Power Anniversary",
            iso: toISOManila(2024, 2, 25),
            type: "special",
          },
          {
            name: "Maundy Thursday",
            iso: toISOManila(2024, 3, 28),
            type: "regular",
          },
          {
            name: "Good Friday",
            iso: toISOManila(2024, 3, 29),
            type: "regular",
          },
          {
            name: "Black Saturday",
            iso: toISOManila(2024, 3, 30),
            type: "special",
          },
          {
            name: "Araw ng Kagitingan",
            iso: toISOManila(2024, 4, 9),
            type: "regular",
          },
          { name: "Labor Day", iso: toISOManila(2024, 5, 1), type: "regular" },
          {
            name: "Independence Day",
            iso: toISOManila(2024, 6, 12),
            type: "regular",
          },
          {
            name: "Eid al-Adha",
            iso: toISOManila(2024, 6, 17),
            type: "regular",
          },
          {
            name: "Ninoy Aquino Day",
            iso: toISOManila(2024, 8, 21),
            type: "special",
          },
          {
            name: "National Heroes Day",
            iso: toISOManila(2024, 8, 26),
            type: "regular",
          },
          {
            name: "Bonifacio Day",
            iso: toISOManila(2024, 11, 30),
            type: "regular",
          },
          {
            name: "Christmas Day",
            iso: toISOManila(2024, 12, 25),
            type: "regular",
          },
          {
            name: "Rizal Day",
            iso: toISOManila(2024, 12, 30),
            type: "regular",
          },
        ];

        // Set current year
        const yearEl = $("#year");
        if (yearEl) yearEl.textContent = String(new Date().getFullYear());

        // Analysis functions
        const findLongWeekends = (holidays) => {
          const longWeekends = [];

          holidays.forEach((holiday) => {
            const holidayDate = new Date(holiday.iso);
            const weekday = getWeekday(holiday.iso);

            // Check for natural long weekends (Friday/Monday holidays)
            if (weekday === "Fri" || weekday === "Mon") {
              longWeekends.push({
                type: "natural",
                title: holiday.name,
                startDate:
                  weekday === "Fri"
                    ? holidayDate
                    : new Date(holidayDate.getTime() - 2 * 24 * 60 * 60 * 1000),
                endDate:
                  weekday === "Mon"
                    ? holidayDate
                    : new Date(holidayDate.getTime() + 2 * 24 * 60 * 60 * 1000),
                holiday: holiday,
                duration: weekday === "Fri" ? "3-day weekend" : "3-day weekend",
              });
            }

            // Check for bridge opportunities (Tuesday/Thursday holidays)
            else if (weekday === "Tue" || weekday === "Thu") {
              const suggestedLeave =
                weekday === "Tue"
                  ? new Date(holidayDate.getTime() - 24 * 60 * 60 * 1000) // Monday
                  : new Date(holidayDate.getTime() + 24 * 60 * 60 * 1000); // Friday

              longWeekends.push({
                type: "suggested",
                title: holiday.name,
                startDate:
                  weekday === "Tue"
                    ? new Date(holidayDate.getTime() - 2 * 24 * 60 * 60 * 1000)
                    : holidayDate,
                endDate:
                  weekday === "Thu"
                    ? new Date(holidayDate.getTime() + 2 * 24 * 60 * 60 * 1000)
                    : holidayDate,
                holiday: holiday,
                suggestedLeave: suggestedLeave,
                duration: "4-day weekend",
              });
            }
          });

          return longWeekends.sort((a, b) => a.startDate - b.startDate);
        };

        // Calendar generation functions
        const generateCalendar = (year, month) => {
          const firstDay = new Date(year, month, 1);
          const lastDay = new Date(year, month + 1, 0);
          const startDate = new Date(firstDay);
          startDate.setDate(startDate.getDate() - firstDay.getDay());

          const calendar = [];
          const current = new Date(startDate);

          // Add 6 weeks worth of days
          for (let week = 0; week < 6; week++) {
            const weekDays = [];
            for (let day = 0; day < 7; day++) {
              weekDays.push(new Date(current));
              current.setDate(current.getDate() + 1);
            }
            calendar.push(weekDays);
          }

          return calendar;
        };

        const renderCalendar = (year, month, longWeekend) => {
          const monthNames = [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December",
          ];
          const dayHeaders = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"];

          const calendar = generateCalendar(year, month);
          const monthStart = new Date(year, month, 1);
          const monthEnd = new Date(year, month + 1, 0);

          let html = `
            <div class="mini-calendar">
              <div class="calendar-header">${monthNames[month]} ${year}</div>
              <div class="calendar-grid">
                ${dayHeaders
                  .map((day) => `<div class="calendar-day header">${day}</div>`)
                  .join("")}
          `;

          calendar.forEach((week) => {
            week.forEach((date) => {
              const isCurrentMonth = date.getMonth() === month;
              const isWeekendDay = isWeekend(date);
              const dateStr = date.toISOString().split("T")[0];

              // Check if this date is the holiday
              const isHoliday =
                longWeekend.holiday &&
                dateStr ===
                  new Date(longWeekend.holiday.iso).toISOString().split("T")[0];

              // Check if this date is suggested leave
              const isSuggestedLeave =
                longWeekend.suggestedLeave &&
                dateStr ===
                  longWeekend.suggestedLeave.toISOString().split("T")[0];

              // Check if this date is in the long weekend range
              const isInRange =
                date >= longWeekend.startDate && date <= longWeekend.endDate;

              let classes = ["calendar-day"];
              if (!isCurrentMonth) classes.push("other-month");
              if (isWeekendDay) classes.push("weekend");
              if (isHoliday) classes.push("holiday");
              if (isSuggestedLeave) classes.push("suggested-leave");
              if (
                isInRange &&
                (isWeekendDay || isHoliday || isSuggestedLeave)
              ) {
                classes.push("long-weekend-range");
              }

              html += `<div class="${classes.join(
                " "
              )}">${date.getDate()}</div>`;
            });
          });

          html += "</div></div>";
          return html;
        };

        // Render functions
        const renderLongWeekendCard = (longWeekend, index) => {
          const startMonth = longWeekend.startDate.getMonth();
          const endMonth = longWeekend.endDate.getMonth();
          const year = longWeekend.startDate.getFullYear();

          const isSpanning = startMonth !== endMonth;
          const calendarsHtml = isSpanning
            ? renderCalendar(year, startMonth, longWeekend) +
              renderCalendar(year, endMonth, longWeekend)
            : renderCalendar(year, startMonth, longWeekend);

          const ctaMessage =
            longWeekend.type === "suggested"
              ? `<div class="cta-message">
                 <span class="cta-highlight">Take 1 day off</span> for a ${longWeekend.duration}!
               </div>`
              : "";

          const badge =
            longWeekend.type === "suggested"
              ? '<span class="suggestion-badge">Suggested</span>'
              : "";

          return `
            <section class="holiday-card" id="card-${index}">
              <div class="holiday-header">
                <h2 class="holiday-title">${longWeekend.title}${badge}</h2>
                <p class="holiday-subtitle muted">${formatPHT(
                  longWeekend.holiday.iso
                )} • ${longWeekend.duration}</p>
              </div>
              ${ctaMessage}
              <div class="calendar-container">
                ${calendarsHtml}
              </div>
            </section>
          `;
        };

        const renderSidebar = (longWeekends) => {
          const monthNames = [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
          ];

          return longWeekends
            .map((lw, index) => {
              const month = monthNames[lw.startDate.getMonth()];
              const day = lw.startDate.getDate();
              return `<li><a href="#card-${index}" data-card="${index}">${month} ${day}</a></li>`;
            })
            .join("");
        };

        // Scroll spy functionality
        const initScrollSpy = () => {
          const cards = $$(".holiday-card");
          const navLinks = $$(".sidebar-nav a");

          const observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  const cardId = entry.target.id;
                  const cardIndex = cardId.split("-")[1];

                  // Remove active class from all links
                  navLinks.forEach((link) => link.classList.remove("active"));

                  // Add active class to current link
                  const activeLink = $(
                    `.sidebar-nav a[data-card="${cardIndex}"]`
                  );
                  if (activeLink) activeLink.classList.add("active");
                }
              });
            },
            {
              rootMargin: "-20% 0px -20% 0px",
              threshold: 0.5,
            }
          );

          cards.forEach((card) => observer.observe(card));
        };

        // Smooth scroll functionality
        const initSmoothScroll = () => {
          $$(".sidebar-nav a").forEach((link) => {
            link.addEventListener("click", (e) => {
              e.preventDefault();
              const targetId = link.getAttribute("href");
              const targetEl = $(targetId);
              if (targetEl) {
                targetEl.scrollIntoView({
                  behavior: "smooth",
                  block: "start",
                });
              }
            });
          });
        };

        // Main initialization
        const init = () => {
          const longWeekends = findLongWeekends(holidays2024);

          // Render content
          const cardsContainer = $("#holidayCards");
          const sidebarNav = $("#sidebarNav");

          if (cardsContainer) {
            cardsContainer.innerHTML = longWeekends
              .map((lw, index) => renderLongWeekendCard(lw, index))
              .join("");
          }

          if (sidebarNav) {
            sidebarNav.innerHTML = renderSidebar(longWeekends);
          }

          // Initialize scroll features
          setTimeout(() => {
            initScrollSpy();
            initSmoothScroll();
          }, 100);
        };

        // Start the app
        init();
      })();
    </script>
  </body>
</html>
